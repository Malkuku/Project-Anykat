-- 删除所有表数据（按照外键依赖顺序）
DELETE FROM student_answer;
DELETE FROM exercise_question;
DELETE FROM exercise_class;
DELETE FROM notification;
DELETE FROM teacher_course;
DELETE FROM student_class;
DELETE FROM exercise;
DELETE FROM question;
DELETE FROM course;
DELETE FROM semester;
DELETE FROM class;
DELETE FROM user;

-- 重置自增ID索引
ALTER TABLE student_answer AUTO_INCREMENT = 1;
ALTER TABLE exercise_question AUTO_INCREMENT = 1;
ALTER TABLE exercise_class AUTO_INCREMENT = 1;
ALTER TABLE notification AUTO_INCREMENT = 1;
ALTER TABLE teacher_course AUTO_INCREMENT = 1;
ALTER TABLE student_class AUTO_INCREMENT = 1;
ALTER TABLE exercise AUTO_INCREMENT = 1;
ALTER TABLE question AUTO_INCREMENT = 1;
ALTER TABLE course AUTO_INCREMENT = 1;
ALTER TABLE semester AUTO_INCREMENT = 1;
ALTER TABLE class AUTO_INCREMENT = 1;
ALTER TABLE user AUTO_INCREMENT = 1;

#用户表
-- 管理员
INSERT INTO `user` (`name`, `username`, `password`, `role`) VALUES
('张管理员', 'admin1', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 2),
('李系统', 'admin2', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 2);

-- 教师
INSERT INTO `user` (`name`, `username`, `password`, `role`) VALUES
('王老师', 'teacher1', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 1),
('赵教授', 'teacher2', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 1),
('钱讲师', 'teacher3', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 1),
('孙导师', 'teacher4', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 1),
('周副教授', 'teacher5', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 1);

-- 学生
INSERT INTO `user` (`name`, `username`, `password`, `role`) VALUES
('吴同学', 'student1', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('郑学生', 'student2', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('冯学员', 'student3', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('陈学子', 'student4', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('褚同学', 'student5', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('卫学生', 'student6', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('蒋学员', 'student7', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('沈学子', 'student8', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('韩同学', 'student9', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('杨学生', 'student10', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('朱学员', 'student11', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('秦学子', 'student12', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0),
('尤同学', 'student13', '$2a$10$xJwL5v5zJz6Z6Z6Z6Z6Z6e', 0);

#班级表
INSERT INTO `class` (`name`) VALUES
('计算机科学与技术1班'),
('计算机科学与技术2班'),
('软件工程1班'),
('软件工程2班'),
('人工智能1班'),
('数据科学1班'),
('网络安全1班'),
('物联网工程1班'),
('电子信息工程1班'),
('自动化1班'),
('数学与应用数学1班'),
('物理1班'),
('化学1班'),
('生物科学1班'),
('英语1班'),
('汉语言文学1班'),
('历史学1班'),
('哲学1班'),
('经济学1班'),
('管理学1班');

#学期表
INSERT INTO `semester` (`name`, `start_time`, `end_time`) VALUES
('2023年春季学期', '2023-02-20 00:00:00', '2023-06-30 23:59:59'),
('2023年秋季学期', '2023-09-01 00:00:00', '2024-01-20 23:59:59'),
('2024年春季学期', '2024-02-19 00:00:00', '2024-06-28 23:59:59'),
('2024年秋季学期', '2024-09-02 00:00:00', '2025-01-18 23:59:59'),
('2025年春季学期', '2025-02-17 00:00:00', '2025-06-27 23:59:59'),
('2025年秋季学期', '2025-08-31 00:00:00', '2026-01-17 23:59:59'),
('2026年春季学期', '2026-02-16 00:00:00', '2026-06-26 23:59:59'),
('2026年秋季学期', '2026-08-30 00:00:00', '2027-01-16 23:59:59'),
('2027年春季学期', '2027-02-15 00:00:00', '2027-06-25 23:59:59'),
('2027年秋季学期', '2027-08-29 00:00:00', '2028-01-15 23:59:59'),
('2028年春季学期', '2028-02-14 00:00:00', '2028-06-23 23:59:59'),
('2028年秋季学期', '2028-08-27 00:00:00', '2029-01-13 23:59:59'),
('2029年春季学期', '2029-02-12 00:00:00', '2029-06-22 23:59:59'),
('2029年秋季学期', '2029-08-26 00:00:00', '2030-01-12 23:59:59'),
('2030年春季学期', '2030-02-11 00:00:00', '2030-06-21 23:59:59'),
('2030年秋季学期', '2030-08-25 00:00:00', '2031-01-11 23:59:59'),
('2031年春季学期', '2031-02-10 00:00:00', '2031-06-20 23:59:59'),
('2031年秋季学期', '2031-08-24 00:00:00', '2032-01-10 23:59:59'),
('2032年春季学期', '2032-02-09 00:00:00', '2032-06-19 23:59:59'),
('2032年秋季学期', '2032-08-23 00:00:00', '2033-01-09 23:59:59');

#课程表
INSERT INTO `course` (`name`, `semester_id`) VALUES
('数据结构', 1),
('算法设计', 1),
('数据库系统', 2),
('操作系统', 2),
('计算机网络', 3),
('计算机组成原理', 3),
('软件工程', 4),
('人工智能导论', 4),
('机器学习', 5),
('深度学习', 5),
('大数据技术', 6),
('云计算', 6),
('网络安全基础', 7),
('密码学', 7),
('物联网技术', 8),
('嵌入式系统', 8),
('数字信号处理', 9),
('自动控制原理', 9),
('高等数学', 10),
('线性代数', 10);

#题目表
INSERT INTO `question` (`type`, `description`, `content`, `answer`, `difficulty`, `score`, `creator_id`) VALUES
(0, '数据结构基础知识测试', '以下哪种数据结构是先进先出的?', 'A', 1, 10, 10),
(0, '算法时间复杂度评估', '快速排序的平均时间复杂度是?', 'B', 3, 10, 10),
(1, '数据库规范化理论', '请简述数据库三大范式的主要内容。', '第一范式：每个列都是不可分割的原子数据项；第二范式：满足第一范式，并且非主属性完全依赖于主键；第三范式：满足第二范式，并且非主属性不传递依赖于主键。', 2, 10, 11),
(0, '操作系统功能识别', '以下哪个不是操作系统的功能?', 'C', 2, 10, 11),
(1, '网络通信协议理解', '请解释TCP三次握手的过程。', '第一次握手：客户端发送SYN=1,seq=x；第二次握手：服务器发送SYN=1,ACK=1,seq=y,ack=x+1；第三次握手：客户端发送ACK=1,seq=x+1,ack=y+1', 4, 15, 12),
(0, '计算机组成原理', 'CPU的主要组成部分不包括?', 'C', 2, 10, 12),
(1, '软件开发方法论', '请描述敏捷开发的主要特点。', '迭代开发、用户参与、适应变化、交付可工作软件、面对面沟通等', 3, 15, 13),
(0, '机器学习算法识别', '以下哪个不是机器学习算法?', 'C', 1, 5, 13),
(1, '神经网络训练原理', '请解释反向传播算法的基本原理。', '通过计算输出层误差，然后反向逐层计算各层误差，利用梯度下降法调整权重参数', 5, 20, 14),
(0, '大数据技术组件', 'Hadoop的核心组件不包括?', 'D', 2, 10, 14),
(0, '云计算特征识别', '以下哪项不是云计算的特点?', 'D', 2, 10, 15),
(1, '加密技术比较', '请简述对称加密和非对称加密的区别。', '对称加密使用相同密钥加解密，速度快但密钥分发困难；非对称加密使用公钥私钥对，安全性高但速度慢', 3, 15, 15),
(0, '密码学理论基础', 'RSA算法基于什么数学难题?', 'A', 3, 10, 16),
(1, '物联网架构理解', '请描述物联网的三层架构。', '感知层、网络层、应用层', 2, 10, 16),
(0, '嵌入式系统识别', '以下哪个不是嵌入式操作系统?', 'D', 1, 5, 17),
(1, '信号处理技术', '请解释傅里叶变换的作用。', '将时域信号转换为频域信号，分析信号的频率成分', 4, 15, 17),
(0, '自动控制原理', 'PID控制器中的P代表?', 'A', 1, 5, 18),
(1, '数学定理理解', '请叙述拉格朗日中值定理的内容。', '如果函数f在闭区间[a,b]上连续，在开区间(a,b)内可导，则存在ξ∈(a,b)使得f\'(ξ)=(f(b)-f(a))/(b-a)', 4, 15, 18),
(0, '线性代数概念', '矩阵的秩表示什么?', 'C', 2, 10, 19),
(1, '编程范式理解', '请描述面向对象编程的三大特性。', '封装、继承、多态', 2, 10, 19);

#练习表
INSERT INTO `exercise` (`name`, `course_id`, `start_time`, `end_time`, `status`, `creator_id`) VALUES
('数据结构第一次作业', 1, '2023-03-01 00:00:00', '2023-03-07 23:59:59', 2, 3),
('算法设计期中测试', 2, '2023-04-15 00:00:00', '2023-04-17 23:59:59', 2, 3),
('数据库系统实验一', 3, '2023-10-10 00:00:00', '2023-10-17 23:59:59', 2, 4),
('操作系统期末考试', 4, '2024-01-10 00:00:00', '2024-01-12 23:59:59', 2, 4),
('计算机网络平时作业', 5, '2024-04-01 00:00:00', '2024-04-08 23:59:59', 1, 5),
('组成原理实验二', 6, '2024-05-10 00:00:00', '2024-05-17 23:59:59', 1, 5),
('软件工程小组项目', 7, '2024-11-01 00:00:00', '2024-11-30 23:59:59', 0, 6),
('人工智能导论作业', 8, '2025-03-15 00:00:00', '2025-03-22 23:59:59', 0, 6),
('机器学习实验三', 9, '2025-05-10 00:00:00', '2025-05-17 23:59:59', 0, 7),
('深度学习大作业', 10, '2025-06-01 00:00:00', '2025-06-15 23:59:59', 0, 7),
('大数据技术期中考试', 11, '2026-04-10 00:00:00', '2026-04-12 23:59:59', 0, 8),
('云计算实验四', 12, '2026-05-20 00:00:00', '2026-05-27 23:59:59', 0, 8),
('网络安全基础作业', 13, '2027-03-01 00:00:00', '2027-03-08 23:59:59', 0, 9),
('密码学期末考试', 14, '2027-06-10 00:00:00', '2027-06-12 23:59:59', 0, 9),
('物联网技术实验一', 15, '2028-04-05 00:00:00', '2028-04-12 23:59:59', 0, 10),
('嵌入式系统作业', 16, '2028-05-15 00:00:00', '2028-05-22 23:59:59', 0, 10),
('数字信号处理期中', 17, '2029-04-01 00:00:00', '2029-04-03 23:59:59', 0, 11),
('自动控制原理实验', 18, '2029-05-10 00:00:00', '2029-05-17 23:59:59', 0, 11),
('高等数学作业一', 19, '2030-03-15 00:00:00', '2030-03-22 23:59:59', 0, 12),
('线性代数期末考试', 20, '2030-06-10 00:00:00', '2030-06-12 23:59:59', 0, 12);


#学生班级关联表
INSERT INTO `student_class` (`student_id`, `class_id`) VALUES
(7, 1), (8, 1), (9, 1), (10, 1),
(11, 2), (12, 2), (13, 2), (14, 2),
(15, 3), (16, 3), (7, 3), (8, 3),
(9, 4), (10, 4), (11, 4), (12, 4),
(13, 5), (14, 5), (15, 5), (16, 5);

# 教师课程关联表
INSERT INTO `teacher_course` (`teacher_id`, `course_id`) VALUES
(3, 1), (3, 2),
(4, 3), (4, 4),
(5, 5), (5, 6),
(6, 7), (6, 8),
(7, 9), (7, 10),
(8, 11), (8, 12),
(9, 13), (9, 14),
(10, 15), (10, 16),
(11, 17), (11, 18),
(12, 19), (12, 20);

#练习班级关联表
INSERT INTO `exercise_class` (`exercise_id`, `class_id`) VALUES
(1, 1), (1, 2),
(2, 1), (2, 3),
(3, 2), (3, 4),
(4, 3), (4, 5),
(5, 4), (5, 6),
(6, 5), (6, 7),
(7, 6), (7, 8),
(8, 7), (8, 9),
(9, 8), (9, 10),
(10, 9), (10, 11);

#练习题目关联表
INSERT INTO `exercise_question` (`exercise_id`, `question_id`, `sort_order`) VALUES
(1, 1, 1), (1, 2, 2),
(2, 3, 1), (2, 4, 2),
(3, 5, 1), (3, 6, 2),
(4, 7, 1), (4, 8, 2),
(5, 9, 1), (5, 10, 2),
(6, 11, 1), (6, 12, 2),
(7, 13, 1), (7, 14, 2),
(8, 15, 1), (8, 16, 2),
(9, 17, 1), (9, 18, 2),
(10, 19, 1), (10, 20, 2);

#学生答题记录表
INSERT INTO `student_answer` (`student_id`, `exercise_id`, `question_id`, `answer`, `score`, `correct_status`, `correct_comment`, `correct_time`, `submit_time`) VALUES
(7, 1, 1, 'A', 10, 1, '回答正确', '2023-03-05 10:00:00', '2023-03-03 15:30:00'),
(7, 1, 2, 'B', 10, 1, '回答正确', '2023-03-05 10:00:00', '2023-03-03 15:30:00'),
(8, 1, 1, 'A', 10, 1, '回答正确', '2023-03-05 10:00:00', '2023-03-04 14:20:00'),
(8, 1, 2, 'C', 5, 1, '回答错误', '2023-03-05 10:00:00', '2023-03-04 14:20:00'),
(9, 2, 3, '第一范式...', 8, 1, '回答基本正确', '2023-04-16 09:00:00', '2023-04-15 16:45:00'),
(9, 2, 4, 'C', 10, 1, '回答正确', '2023-04-16 09:00:00', '2023-04-15 16:45:00'),
(10, 2, 3, '三大范式是...', 6, 1, '回答不完整', '2023-04-16 09:00:00', '2023-04-16 08:30:00'),
(10, 2, 4, 'D', 0, 1, '回答错误', '2023-04-16 09:00:00', '2023-04-16 08:30:00'),
(11, 3, 5, '三次握手是...', 9, 1, '回答详细', '2023-10-15 14:00:00', '2023-10-12 10:15:00'),
(11, 3, 6, 'C', 10, 1, '回答正确', '2023-10-15 14:00:00', '2023-10-12 10:15:00'),
(12, 3, 5, '客户端发送...', 7, 1, '回答基本正确', '2023-10-15 14:00:00', '2023-10-14 18:20:00'),
(12, 3, 6, 'A', 5, 1, '回答错误', '2023-10-15 14:00:00', '2023-10-14 18:20:00'),
(13, 4, 7, '敏捷开发...', 8, 1, '回答正确', '2024-01-11 16:00:00', '2024-01-10 15:10:00'),
(13, 4, 8, 'C', 10, 1, '回答正确', '2024-01-11 16:00:00', '2024-01-10 15:10:00'),
(14, 4, 7, '特点是...', 6, 1, '回答不完整', '2024-01-11 16:00:00', '2024-01-11 10:30:00'),
(14, 4, 8, 'B', 5, 1, '回答错误', '2024-01-11 16:00:00', '2024-01-11 10:30:00'),
(15, 5, 9, '反向传播...', 9, 1, '回答详细', '2024-04-05 11:00:00', '2024-04-03 14:45:00'),
(15, 5, 10, 'D', 10, 1, '回答正确', '2024-04-05 11:00:00', '2024-04-03 14:45:00'),
(16, 5, 9, '通过误差...', 7, 1, '回答基本正确', '2024-04-05 11:00:00', '2024-04-04 16:20:00'),
(16, 5, 10, 'A', 5, 1, '回答错误', '2024-04-05 11:00:00', '2024-04-04 16:20:00');

#提醒表
INSERT INTO `notification` (`target_user_id`, `sender_id`, `effective_time`, `content`) VALUES
(7, 3, '2023-03-01 08:00:00', '数据结构作业已发布，请在3月7日前完成'),
(8, 3, '2023-03-01 08:00:00', '数据结构作业已发布，请在3月7日前完成'),
(9, 3, '2023-04-14 08:00:00', '算法设计期中测试将于明天开始'),
(10, 3, '2023-04-14 08:00:00', '算法设计期中测试将于明天开始'),
(11, 4, '2023-10-09 08:00:00', '数据库系统实验一已发布，请按时完成'),
(12, 4, '2023-10-09 08:00:00', '数据库系统实验一已发布，请按时完成'),
(13, 4, '2024-01-09 08:00:00', '操作系统期末考试安排已发布'),
(14, 4, '2024-01-09 08:00:00', '操作系统期末考试安排已发布'),
(15, 5, '2024-03-31 08:00:00', '计算机网络平时作业已发布'),
(16, 5, '2024-03-31 08:00:00', '计算机网络平时作业已发布'),
(7, 5, '2024-05-09 08:00:00', '组成原理实验二即将开始'),
(8, 5, '2024-05-09 08:00:00', '组成原理实验二即将开始'),
(9, 6, '2024-10-31 08:00:00', '软件工程小组项目即将开始'),
(10, 6, '2024-10-31 08:00:00', '软件工程小组项目即将开始'),
(11, 6, '2025-03-14 08:00:00', '人工智能导论作业已发布'),
(12, 6, '2025-03-14 08:00:00', '人工智能导论作业已发布'),
(13, 7, '2025-05-09 08:00:00', '机器学习实验三即将开始'),
(14, 7, '2025-05-09 08:00:00', '机器学习实验三即将开始'),
(15, 7, '2025-05-31 08:00:00', '深度学习大作业即将开始'),
(16, 7, '2025-05-31 08:00:00', '深度学习大作业即将开始');